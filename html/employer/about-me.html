<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Обо мне - HireMe</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <link rel="stylesheet" href="../../css/about-me/about-me.css">
    <link rel="stylesheet" href="../../css/about-me/component/experience.css">
    <link rel="stylesheet" href="../../css/about-me/component/contacts.css">
    <link rel="stylesheet" href="../../css/about-me/component/basic-info.css">
    <link rel="stylesheet" href="../../css/service/notification-system.css">
    <link rel="stylesheet" href="../../css/service/icon-action.css">
    <link rel="stylesheet" href="../../css/about-me/layout/header.css">
    <link rel="stylesheet" href="../../css/about-me/layout/empty-state.css">
</head>
<body>
<div class="container">
    <header class="app-header">
        <div class="header-content">
            <button class="back-button">
                <img src="../../images/icons/arrow-back.png" alt="Назад">
            </button>

            <h1 class="app-title">Обо мне</h1>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="profile-hero">
        <div class="hero-content">
            <div class="avatar-container" id="userAvatar">
                <!-- Avatar will be set dynamically -->
            </div>
            <h1 class="user-name" id="userName"></h1>
            <div class="user-position" id="userPosition"></div>
        </div>
    </section>

    <!-- Progress Section -->
    <div class="completion-section">
        <div class="completion-header">
            <span class="completion-label">Заполнение профиля</span>
            <span class="completion-percent"></span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill"></div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="content-section">
        <!-- Personal Description -->
        <div class="personal-description">
            <div class="description-text">
                Создаю цифровые продукты, которые решают реальные проблемы пользователей и приносят бизнесу прибыль.
                Специализируюсь на FinTech и B2B-сегменте.
            </div>
            <div class="description-highlights">
                <div class="highlight-item">
                    <div class="highlight-icon">✓</div>
                    <div class="highlight-text">5+ лет в продуктовом дизайне</div>
                </div>
                <div class="highlight-item">
                    <div class="highlight-icon">✓</div>
                    <div class="highlight-text">Expert в Figma и Design Systems</div>
                </div>
                <div class="highlight-item">
                    <div class="highlight-icon">✓</div>
                    <div class="highlight-text">Руковожу командой из 3 дизайнеров</div>
                </div>
            </div>
        </div>

        <div class="basic-info-section">
            <div class="section-header">
                <div class="section-title">Детали работодателя</div>
                <button class="add-button" id="editEmployerBtn" title="Редактировать">
                    <img src="../../images/icons/edit.png" alt="Редактировать">
                </button>
            </div>

            <div class="basic-info-form" id="employerForm" style="display: none;">
                <div class="form-title">Данные компании</div>
                <form id="employerFormElement">
                    <div class="form-group">
                        <label class="form-label">Агентство</label>
                        <input type="text"
                               class="form-input"
                               id="editCompanyNameInput"
                               maxlength="100"
                               placeholder="Capital Group">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Локация</label>
                        <input type="text"
                               class="form-input"
                               id="editEmployerLocationInput"
                               maxlength="200"
                               placeholder="Москва, Пресненский район">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Должность *</label>
                        <input type="text"
                               class="form-input"
                               id="editEmployerPositionInput"
                               maxlength="100"
                               placeholder="HR-директор">
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelEmployerBtn">Отмена</button>
                        <button type="submit" class="btn btn-primary">Сохранить</button>
                    </div>
                </form>
            </div>

            <div class="info-grid-compact" id="employerInfoList">
                <div class="info-row">
                    <span class="info-label-compact">Агентство</span>
                    <span class="info-value-compact" id="companyNameValue">Не указано</span>
                </div>
                <div class="info-row">
                    <span class="info-label-compact">Локация</span>
                    <span class="info-value-compact" id="employerLocationValue">Не указано</span>
                </div>
                <div class="info-row">
                    <span class="info-label-compact">Должность</span>
                    <span class="info-value-compact" id="employerPositionValue">Не указано</span>
                </div>
            </div>
        </div>

        <!-- Contacts Section -->
        <div class="contacts-section">
            <div class="section-header">
                <div class="section-title">Контакты</div>
                <button class="add-button" id="addContactBtn" title="Редактировать контакты">
                    <img src="../../images/icons/edit.png" alt="Редактировать">
                </button>
            </div>

            <!-- Форма редактирования -->
            <div class="contacts-form" id="contactsForm" style="display: none;">
                <div class="form-title">Редактировать контакты</div>
                <form id="contactsFormElement">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email"
                               class="form-input"
                               id="contactEmail"
                               maxlength="254"
                               placeholder="example@mail.com">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Телефон</label>
                        <input type="tel"
                               class="form-input"
                               id="contactPhone"
                               maxlength="20"
                               placeholder="+7 (999) 123-45-67">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Telegram</label>
                        <div class="input-with-prefix">
                            <span class="input-prefix">@</span>
                            <input type="text"
                                   class="form-input"
                                   id="contactTelegram"
                                   maxlength="32"
                                   placeholder="username">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">WhatsApp</label>
                        <input type="tel"
                               class="form-input"
                               id="contactWhatsApp"
                               maxlength="20"
                               placeholder="+7 (999) 123-45-67">
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelContactBtn">Отмена</button>
                        <button type="submit" class="btn btn-primary">Сохранить</button>
                    </div>
                </form>
            </div>

            <!-- Список контактов -->
            <div class="contacts-list" id="contactsList">
                <!-- Динамически заполнится через JavaScript -->
            </div>
        </div>

        <!-- Experience Section -->
        <div class="experience-section">
            <div class="section-header">
                <div class="section-title">Опыт работы</div>
                <button class="add-button" id="addExperienceBtn">
                    <img src="../../images/icons/add.png" alt="Добавить">
                </button>
            </div>

            <!-- Форма добавления/редактирования -->
            <div class="experience-form" id="experienceForm" style="display: none;">
                <div class="form-title" id="formTitle">Добавить опыт работы</div>
                <form id="experienceFormElement">
                    <div class="form-group">
                        <label class="form-label">Компания *</label>
                        <input type="text" class="form-input" id="companyName" required
                               placeholder="Penny Lane Realty, METRIUM, ЦИАН">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Должность *</label>
                        <input type="text" class="form-input" id="position" required
                               placeholder="HR-менеджер, Специалист по подбору">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Начало работы *</label>
                        <div class="period-inputs">
                            <select class="form-input" id="startMonth" required>
                                <option value="" disabled selected>Месяц</option>
                                <option value="0">Январь</option>
                                <option value="1">Февраль</option>
                                <option value="2">Март</option>
                                <option value="3">Апрель</option>
                                <option value="4">Май</option>
                                <option value="5">Июнь</option>
                                <option value="6">Июль</option>
                                <option value="7">Август</option>
                                <option value="8">Сентябрь</option>
                                <option value="9">Октябрь</option>
                                <option value="10">Ноябрь</option>
                                <option value="11">Декабрь</option>
                            </select>
                            <input type="number" class="form-input" id="startYear" placeholder="Год" min="1950"
                                   max="2026" required>
                        </div>
                    </div>

                    <div class="form-group" id="endDateGroup">
                        <label class="form-label">Окончание *</label>
                        <div class="period-inputs">
                            <select class="form-input" id="endMonth">
                                <option value="" disabled selected>Месяц</option>
                                <option value="0">Январь</option>
                                <option value="1">Февраль</option>
                                <option value="2">Март</option>
                                <option value="3">Апрель</option>
                                <option value="4">Май</option>
                                <option value="5">Июнь</option>
                                <option value="6">Июль</option>
                                <option value="7">Август</option>
                                <option value="8">Сентябрь</option>
                                <option value="9">Октябрь</option>
                                <option value="10">Ноябрь</option>
                                <option value="11">Декабрь</option>
                            </select>
                            <input type="number" class="form-input" id="endYear" placeholder="Год" min="1950"
                                   max="2026">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Описание обязанностей и достижений</label>
                        <textarea class="form-input form-textarea"
                                  id="workDescription"
                                  maxlength="1000"
                                  placeholder="Полный цикл подбора: риелторы (элитная/коммерческая недвижимость), менеджеры по продажам новостроек, руководители отделов"></textarea>
                        <div class="char-counter"><span id="charCount">0</span>/1000</div>
                    </div>
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="currentJob">
                            <label class="form-label" for="currentJob">Это моё текущее место работы</label>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelBtn">Отмена</button>
                        <button type="submit" class="btn btn-primary" id="saveButton">Сохранить</button>
                        <button type="submit" class="btn btn-primary" id="updateButton" style="display: none;">
                            Обновить
                        </button>
                    </div>
                </form>
            </div>

            <!-- Список опыта работы -->
            <div class="experience-list" id="experienceList">
                <!-- Будет заполняться динамически через JavaScript -->
            </div>
        </div>
    </div>
</div>

<script src="../../js/util/Helpers.js"></script>
<script src="../../js/util/UserProfileFiller.js"></script>
<script src="../../js/service/ApiService.js"></script>
<script src="../../js/service/ProfileService.js"></script>
<script src="../../js/service/NotificationService.js"></script>
<script src="../../js/service/NavigationService.js"></script>
<script src="../../js/component/ExperienceComponent.js"></script>
<script src="../../js/component/ContactsComponent.js"></script>
<script src="../../js/component/BaseInfoComponent.js"></script>
<script src="../../js/component/EmployerDetailComponent.js"></script>
<script src="../../js/manager/AboutMeManager.js"></script>
</body>
</html>